<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>On-Premise | XMPro </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="On-Premise | XMPro ">
      
      
      <link rel="icon" href="../../../../images/favicon.png">
      <link rel="stylesheet" href="../../../../public/docfx.min.css">
      <link rel="stylesheet" href="../../../../public/main.css">
      <meta name="docfx:navrel" content="../../../../toc.html">
      <meta name="docfx:tocrel" content="../../../../toc.html">
      
      <meta name="docfx:rel" content="../../../../">
      
      
      <meta name="docfx:docurl" content="https://xmpro.visualstudio.com/XMPro%20Development/_git/xmpro-development?path=public-documentation/gitbook/docs/installation/2.-deployment/on-premise.md&amp;version=GB20290-migrate-public-docs&amp;line=1">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">

      <script type="module" src="./../../../../public/docfx.min.js"></script>

      <script>
        const theme = localStorage.getItem('theme') || 'auto'
        document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
      </script>

  </head>

  <body class="tex2jax_ignore" data-layout="System.Dynamic.ExpandoObject" data-yaml-mime="">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../../../../index.html">
            <img id="logo" class="svg" src="../../../../images/logo-light.png" alt="">
            
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">

      <div class="content">
        <div class="actionbar">

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="">
<h1 id="on-premise">On-Premise</h1>

<p>This document will guide you through how to deploy the XMPro Platform in an on-premise environment.</p>
<ul>
<li><a href="on-premise.html#installation">Install</a></li>
<li><a href="on-premise.html#upgrade-xmpro">Upgrade</a></li>
</ul>
<h2 id="architecture">Architecture</h2>
<p>The following deployment diagram shows an example on-premise architecture and the necessary resources for the XMPro platform in Microsoft Windows.</p>
<p><img src="../../.gitbook/assets/Windows_Architecture_as%20of%20March%201,2024x1.png" alt="Fig 1: Example XMPro architecture in Windows On-Premise"></p>
<h2 id="prerequisites">Prerequisites</h2>
<p>In order to proceed with the deployment, you are required to:</p>
<ol>
<li>Complete the steps in the <strong>1. Preparation</strong> guide:
<ol>
<li>Meet the <a href="../install.html#hardware-requirements"><strong>hardware</strong> requirements</a></li>
<li>Install the <a href="../install.html#software-requirements"><strong>software</strong> requirements</a></li>
<li>Follow the <a href="https://documentation.xmpro.com/installation/install#certificate-and-communication-steps">certificate and communication steps</a></li>
</ol>
</li>
<li>Enable Active Scripting and Allow Scriptlets <br>
(so App Designer and Data Stream installers can authenticate with Subscription Manager)
<ol>
<li>Open Internet Explorer.</li>
<li>Open Tools.</li>
<li>Open Internet Options.</li>
<li>Switch to the Security tab.</li>
<li>Click the &quot;Custom level...&quot; button.</li>
<li>Find and enable Active Scriptlets under ActiveX controls and plug-ins.</li>
<li>Find and enable Active Scripting under Scripting.</li>
</ol>
</li>
<li>For Windows Server, disable these Internet Explorer settings<br>
(so App Designer and Data Stream installers can authenticate with Subscription Manager)
<ol>
<li>Open Server Manager.</li>
<li>Click on Local Server from the left menu.</li>
<li>Find the IE Enhanced Security Configuration on the right side and click on the &quot;On&quot; value.</li>
<li>On the pop-up, select &quot;Off&quot; for Administrators and apply the changes.</li>
</ol>
</li>
<li>Install IIS Service on a fresh Virtual Machine (VM)
<ol>
<li>Open Server Manager.</li>
<li>Click on Manage from the top right menu.</li>
<li>Select Add Roles and Features, and click Next until you see Server Roles highlighted on the left.</li>
<li>With Server Roles highlighted on the left, tick the <em>Web Server (IIS)</em> role...</li>
<li>Expand Web Server and Common HTTP Features, untick WebDAV Publishing, and click Next.<br>
<img src="../../.gitbook/assets/Install_On-Prem_IIS.png" alt=""></li>
<li>With Features highlighted on the left, tick everything under the .NET Framework features.</li>
<li>Click Next twice.</li>
<li>With Role Services highlighted on the left, tick everything <strong>except</strong> <em>CGI</em> under the <em>Application Development</em> section.</li>
<li>Click Next and Install.</li>
<li>Go to the Start button and Administrative Tools to confirm IIS Manager was installed.</li>
</ol>
</li>
</ol>
<p>{% hint style=&quot;info&quot; %}
Please contact your XMPro account manager or <a href="https://xmpro.com/support/"><strong>XMPro support</strong></a> to request the installers.
{% endhint %}</p>
<h2 id="install">Install</h2>
<h2 id="subscription-manager">Subscription Manager</h2>
<ol>
<li>Start the installation process by running the <em>Subscription Manager.exe</em> file, received from your Global Administrator.</li>
</ol>
<p><img src="../../.gitbook/assets/image%20(279).png" alt=""></p>
<ol start="2">
<li>Click the &quot;I Agree&quot; button and press &quot;Next&quot;</li>
</ol>
<p><img src="../../.gitbook/assets/image%20(1069).png" alt=""></p>
<ol start="3">
<li>Follow the instructions and when the installation is finished click &quot;Close&quot;</li>
</ol>
<p><img src="../../.gitbook/assets/image%20(467).png" alt=""></p>
<p>{% hint style=&quot;info&quot; %}
This &quot;Setup&quot; will install the installer you will use to install the database and website
{% endhint %}</p>
<ol start="4">
<li>When this initial installation is complete, open the start menu</li>
<li>Search for &quot;XMPro Subscription Manager&quot; and click on Run as Administrator</li>
</ol>
<p><img src="../../.gitbook/assets/image%20(1797).png" alt=""></p>
<h3 id="component-choice"><strong>Component Choice</strong></h3>
<ol start="6">
<li>When the installer launches, choose “Install” and click &quot;Next&quot;</li>
</ol>
<p><img src="../../.gitbook/assets/image%20(1288).png" alt=""></p>
<ol start="7">
<li>Select the components that you would like to install and click &quot;Next&quot;</li>
</ol>
<p>{% hint style=&quot;info&quot; %}
If this is the first time you are installing Subscription Manager, it is highly recommended that you select both “Database” and “Web Application”
{% endhint %}</p>
<p><img src="../../.gitbook/assets/image%20(1357).png" alt=""></p>
<h3 id="database">Database</h3>
<h4 id="server"><strong>Server</strong></h4>
<ol start="8">
<li>Select the server instance to which you would like to connect</li>
</ol>
<p>{% hint style=&quot;info&quot; %}
If you already know the server instance name, it can be entered manually.  Otherwise, use the refresh button on the right to load all available servers. Selecting the “Local Servers” check box will limit the search to the local network.
{% endhint %}</p>
<p><img src="../../.gitbook/assets/image%20(1626).png" alt=""></p>
<h4 id="authentication-method"><strong>Authentication Method</strong></h4>
<ol start="9">
<li>Specify the authentication method that should be used: Windows or SQL</li>
</ol>
<p>9.1. Windows Authentication: you may leave the options as is</p>
<p>{% hint style=&quot;danger&quot; %}
<strong>Warning:</strong> Configure a service account that can be used for Windows authentication.
{% endhint %}</p>
<p>9.2. SQL authentication:</p>
<ul>
<li>Click the &quot;Change&quot; button</li>
<li>Select the “Use SQL Authentication” option</li>
<li>Enter the username and password of the SQL Server instance you’re connecting to</li>
</ul>
<p>{% hint style=&quot;danger&quot; %}
<strong>Warning:</strong> The SQL user must have permission to create databases on the server.
{% endhint %}</p>
<p><img src="../../.gitbook/assets/image%20(1377).png" alt=""></p>
<p><strong>Database</strong></p>
<p>{% hint style=&quot;info&quot; %}
The Database section allows you to configure if you would like to use an existing database or create a new one. Leaving the options as default will result in a new database being created.
{% endhint %}</p>
<p>To change the pre-populated name of the new database or to select to use an existing database:</p>
<ol start="10">
<li>Click the &quot;Change&quot; button</li>
<li>Make the changes needed by selecting the correct option</li>
<li>Specify the name of the new database or select an existing database from the drop-down</li>
</ol>
<p><img src="../../.gitbook/assets/image%20(1144).png" alt=""></p>
<h3 id="web-application">Web Application</h3>
<p><strong>DNS Name</strong></p>
<ol start="13">
<li>Verify if your DNS name is correct, if not, edit the value to contain the correct DNS name</li>
</ol>
<p>{% hint style=&quot;info&quot; %}
This is your fully qualified domain name (FQDN). Please find some examples below explaining the DNS name.</p>
<ul>
<li>https://localhost/xmprosubscriptionmanager</li>
<li>https://desktop-f64k32e/xmprosubscriptionmanager</li>
<li><a href="https://demo.azurewebsites.com">https://demo.azurewebsites.com</a>
{% endhint %}</li>
</ul>
<table>
<thead>
<tr>
<th>Complete Address</th>
<th>DNS</th>
<th>Virtual Directory</th>
</tr>
</thead>
<tbody>
<tr>
<td>https://localhost/xmprosubscriptionmanager</td>
<td><p></p><p>localhost</p></td>
<td><p></p><p>xmprosubscriptionmanager </p></td>
</tr>
<tr>
<td>https://desktop-f64k32e/xmprosubscriptionmanager</td>
<td>desktop-f64k32e</td>
<td>xmprosubscriptionmanager</td>
</tr>
<tr>
<td><a href="https://demo.azurewebsites.com">https://demo.azurewebsites.com</a></td>
<td>demo.azurewebsites.com</td>
<td></td>
</tr>
</tbody>
</table>
<p><strong>Virtual Directory</strong></p>
<ol start="14">
<li>Select the parent site from the Web Site drop-down</li>
</ol>
<p>{% hint style=&quot;info&quot; %}
By default, the Virtual Directory name will be &quot;xmprosubscriptionmanager&quot; which will be created within IIS for the Subscription Manager site. If you wish to change the name you can specify it in the &quot;Virtual Directory Name&quot; text box.
{% endhint %}</p>
<ol start="15">
<li>Verify if the value in the content directory field is correct. If not, apply any changes needed</li>
</ol>
<p>{% hint style=&quot;info&quot; %}
By default, the option to create a sub-directory within the content directory is checked and you can specify a name in the “Sub-Directory” text box.
{% endhint %}</p>
<h4 id="application-pool"><strong>Application Pool</strong></h4>
<ol start="16">
<li>If you wish to change this name or use an existing application pool, click the Change button</li>
</ol>
<p>{% hint style=&quot;info&quot; %}
By default, a new application pool will be created when installing the site. The new application pool will have the same name as the name specified in the “Application Pool Name” field.
{% endhint %}</p>
<ol start="17">
<li>Either select the “Create a new Application Pool” or “Use an existing Application Pool” option</li>
</ol>
<p>{% hint style=&quot;info&quot; %}
If you choose “Create a new Application Pool”, give it an appropriate name. If you choose “Use an existing Application Pool”, select an existing application pool from the drop-down.
{% endhint %}</p>
<p><img src="../../.gitbook/assets/image%20(12).png" alt=""></p>
<h4 id="security-account"><strong>Security Account</strong></h4>
<ol start="18">
<li>Select a security account that can be used</li>
</ol>
<p>{% hint style=&quot;info&quot; %}
The default option is “Local System”, which is a built-in security account. You can either change it by selecting a different built-in security account from the drop-down or by specifying your own security account.
{% endhint %}</p>
<p><img src="../../.gitbook/assets/image%20(1258).png" alt=""></p>
<p>{% hint style=&quot;danger&quot; %}
<strong>Warning</strong>: If you selected Windows authentication to connect to the database, you must choose “Specify your own Security Account” and provide the correct credentials. The service account must have batch logon rights enabled. More Information on how to set up a custom application pool in IIS as well as steps on how to enable batch logon rights can be found <a href="https://docs.xmpro.com/knowledge-base-2/setting-up-a-custom-application-pool-so-that-windows-authentication-can-be-used-when-installing-xmpro-enabling-batch-logon-rights-for-a-user/">i</a>n this <a href="https://docs.xmpro.com/knowledge-base-2/setting-up-a-custom-application-pool-so-that-windows-authentication-can-be-used-when-installing-xmpro-enabling-batch-logon-rights-for-a-user/"><strong>link</strong></a>.
{% endhint %}</p>
<h3 id="smtp">SMTP</h3>
<ol start="19">
<li>Enter the SMTP details referenced in the <a href="../install.html#smtp-account"><strong>1. Preparation</strong></a> guide. <br>
By default, the &quot;Enable Email Notification&quot; is checked.</li>
</ol>
<p>{% hint style=&quot;info&quot; %}
SMTP can be disabled by unchecking the &quot;Enable Email Notification&quot; checkbox if you don't want to receive email notifications. If at a later stage email notifications are needed, the installer can be run again to add SMTP functionality.
{% endhint %}</p>
<p><img src="../../.gitbook/assets/image%20(1381).png" alt=""></p>
<p>{% hint style=&quot;danger&quot; %}
<strong>Warning:</strong> You are required to set up an SMTP account. Failing to do so will make registering new users very cumbersome.</p>
<p>Check your connection to the email server using the &quot;Test SMTP settings&quot; button.
{% endhint %}</p>
<h3 id="certificates">Certificates</h3>
<p>During the installation process, you will be asked to upload two certificates: a signing certificate and an encryption certificate. You may use the same certificate for both options. The instructions on how to create a certificate can be found in the <a href="../install.html"><strong>1. Preparation</strong></a> guide.</p>
<h4 id="signing-certificate"><strong>Signing Certificate</strong></h4>
<ol start="20">
<li>Start by browsing to a suitable <em>.pfx</em> certificate file. Specify the password for the certificate</li>
<li>Use the dropdown to select &quot;Subject Name&quot;</li>
</ol>
<p>{% hint style=&quot;info&quot; %}
It is recommended that you choose “LocalMachine” as the Location for the signing certificate.
{% endhint %}</p>
<p><img src="../../.gitbook/assets/image%20(356).png" alt=""></p>
<h4 id="encryption-certificate"><strong>Encryption Certificate</strong></h4>
<ol start="22">
<li>Start by browsing to a suitable <em>.pfx</em> certificate file. Specify the password for the certificate</li>
<li>Use the dropdown to select &quot;Subject Name&quot;</li>
</ol>
<p>{% hint style=&quot;info&quot; %}
It is recommended that you choose “LocalMachine” as the Location for the encryption certificate.
{% endhint %}</p>
<p><img src="../../.gitbook/assets/image%20(1431).png" alt=""></p>
<p>{% hint style=&quot;danger&quot; %}
<strong>Warning:</strong> Both certificates must contain a private key.
{% endhint %}</p>
<h3 id="final-steps">Final Steps</h3>
<ol start="24">
<li>Continue through the wizard, confirm the installation and the components will be installed</li>
</ol>
<p><img src="../../.gitbook/assets/image%20(1658).png" alt=""></p>
<p>{% hint style=&quot;danger&quot; %}
<strong>Warning:</strong> Note the username and password on the last screen of the installer. This user has been created during installation as Subscription Manager itself needs at least one user in the system. Without it, you cannot add other users.</p>
<p>Change the password of the default user to a new, secure password after logging in for the first time.
{% endhint %}</p>
<h3 id="accessing-the-website">Accessing the Website</h3>
<h4 id="using-web-browser"><strong>Using Web Browser</strong></h4>
<ol start="25">
<li>Access the website by putting the URL into your browser</li>
</ol>
<p>{% hint style=&quot;info&quot; %}
The format of the URL will be as follows: “<em>https://yourdnsname/virtualdirectoryname/</em>”
{% endhint %}</p>
<p><img src="../../.gitbook/assets/image%20(1728).png" alt=""></p>
<h3 id="obtaining-an-installation-profile">Obtaining an Installation Profile</h3>
<p>To install the Data Stream Designer and App Designer, you will need an Installation Profile.</p>
<ol start="26">
<li>Navigate to the XMPro Subscription Manager site as above</li>
<li>Go to the Subscription Manager page</li>
</ol>
<figure><img src="../../.gitbook/assets/Home Image Current.jfif" alt=""><figcaption></figcaption></figure>
<ol start="28">
<li>Click Products in the menu and click the Installation Profile button</li>
</ol>
<p><img src="../../.gitbook/assets/image%20(179).png" alt=""></p>
<ol start="29">
<li>Enter a File Key and press OK to download the file</li>
</ol>
<p>{% hint style=&quot;danger&quot; %}
<strong>Warning:</strong> Remember the file key as it is needed when installing Data Stream Designer and App Designer.
{% endhint %}</p>
<p><img src="../../.gitbook/assets/image%20(1020).png" alt=""></p>
<h3 id="optional-iis-user-permissions">Optional: IIS User Permissions</h3>
<p>If you’ve chosen to use a <strong>custom service account</strong> during installation, you may have to perform an extra step. An error may be shown after logging into Subscription Manager, even after giving the <em>IIS_USRS</em> group permission on the signing certificate private keys. The error would be as follow: “<em>We could not grant you access to the requested subscription. There was an unexpected error</em>“. The logs would also contain the following error: “<em>System.Security.Cryptography.CryptographicException: Keyset does not exist</em>“.</p>
<p>To solve this issue, use this <a href="https://docs.xmpro.com/knowledge-base-2/how-to-grant-permission-to-iis-user-on-xmpro-identity-service-signing-certificate/"><strong>article</strong></a> as a guideline to grant access for the Application Pool Identity (in some cases a domain account) on the signing certificate private keys.</p>
<h2 id="data-stream-designer">Data Stream Designer</h2>
<ol>
<li>Start the installation process by running the <em>Data Stream Designer.exe</em> that you've received from your Global Administrator.</li>
</ol>
<p><img src="../../.gitbook/assets/image%20(1624).png" alt=""></p>
<ol start="2">
<li>Click the &quot;I Agree&quot; button and press &quot;Next&quot;​</li>
</ol>
<p><img src="../../.gitbook/assets/image%20(970).png" alt=""></p>
<ol start="3">
<li>Follow the instructions and when the installation is finished click &quot;Close&quot;</li>
</ol>
<p><img src="../../.gitbook/assets/image%20(1463).png" alt=""></p>
<ol start="4">
<li>When this initial installation is complete, open the start menu</li>
<li>Search for &quot;Data Stream Designer&quot; and click on Run as Administrator</li>
</ol>
<p><img src="../../.gitbook/assets/image%20(907).png" alt=""></p>
<h3 id="component-choice-1">Component Choice</h3>
<ol start="6">
<li>When the installer launches, choose “Install”</li>
</ol>
<p><img src="../../.gitbook/assets/image%20(815).png" alt=""></p>
<ol start="7">
<li>Select the components that you would like to install</li>
</ol>
<p>{% hint style=&quot;info&quot; %}
If this is the first time you are installing the Data Stream Designer, it is highly recommended that you select both “Database” and “Web Application”.
{% endhint %}</p>
<p><img src="../../.gitbook/assets/image%20(120).png" alt=""></p>
<h3 id="database-1">Database</h3>
<h4 id="server-1"><strong>Server</strong></h4>
<ol start="8">
<li>Select the server instance you would like to connect to.</li>
</ol>
<p>{% hint style=&quot;info&quot; %}
If you already know the server instance name, it can be entered manually. Otherwise, use the refresh button on the right to load all available servers. Selecting the “Local Servers” check box will limit the search to the local network.
{% endhint %}</p>
<p><img src="../../.gitbook/assets/image%20(927).png" alt=""></p>
<h4 id="authentication-method-1"><strong>Authentication Method</strong></h4>
<ol start="9">
<li>Specify the authentication method that should be used: Windows or SQL</li>
</ol>
<p>9.1. Windows Authentication: you may leave the options as is</p>
<p>{% hint style=&quot;danger&quot; %}
<strong>Warning:</strong> Configure a service account that can be used for Windows authentication.
{% endhint %}</p>
<p>9.2. SQL Authentication:</p>
<ul>
<li>To connect to the database using SQL Server authentication, click the &quot;Change&quot; button</li>
<li>Select the “Use SQL Authentication” option</li>
<li>Enter the username and password of the SQL Server instance you’re connecting to</li>
</ul>
<p>{% hint style=&quot;danger&quot; %}
<strong>Warning:</strong> The SQL user must have permission to create databases on the server.
{% endhint %}</p>
<p><img src="../../.gitbook/assets/image%20(1243).png" alt=""></p>
<p><strong>Database</strong></p>
<p>{% hint style=&quot;info&quot; %}
The Database section allows you to configure if you would like to use an existing database or create a new one. Leaving the options as default will result in a new database being created.
{% endhint %}</p>
<p>To change the pre-populated name of the new database or to select to use an existing database:</p>
<ol start="10">
<li>Click the &quot;Change&quot; button and select the appropriate option</li>
<li>Specify the name of the new database or select an existing database from the drop-down</li>
</ol>
<p><img src="../../.gitbook/assets/image%20(62).png" alt=""></p>
<h3 id="encryption-upgrade">Encryption Upgrade</h3>
<p>If you are upgrading from 4.0 to 4.1 or greater, you will be shown the Encryption Upgrade Settings page. This will assist you in migrating existing Server Variables to the new method of encryption.</p>
<p>{% hint style=&quot;warning&quot; %}
To upgrade existing Server Variables, the details of the <strong>Subscription Manager</strong> database are required, <strong>not</strong> the <strong>Data Stream Designer</strong> database (provided on the previous page).
{% endhint %}</p>
<h4 id="upgrade-server-variables">Upgrade Server Variables?</h4>
<ol start="12">
<li>Tick to automatically upgrade the Server Variables. It is recommended, but not required. <br>
None of the other settings on this page are required if you choose not to upgrade.</li>
</ol>
<p><img src="../../.gitbook/assets/DSD%20Encryption%20Upgrade%201.PNG" alt=""></p>
<h4 id="server-2">Server</h4>
<ol start="13">
<li>Select the server instance you want to connect to</li>
</ol>
<h4 id="authentication-method-2">Authentication Method</h4>
<ol start="14">
<li>Specify the authentication method that should be used: Windows or SQL</li>
</ol>
<h4 id="database-2">Database</h4>
<ol start="15">
<li>Select the <strong>Subscription Manager</strong> database and click Next</li>
</ol>
<h3 id="web-application-1">Web Application</h3>
<p><strong>DNS Name</strong></p>
<ol start="16">
<li>Verify if your DNS name is correct. If not, edit the value to contain the correct DNS name</li>
</ol>
<p>{% hint style=&quot;info&quot; %}
This is your fully qualified domain name (FQDN). Please find some examples below explaining the DNS name.</p>
<ul>
<li>https://localhost/xmprosubscriptionmanager</li>
<li>https://desktop-f64k32e/xmprosubscriptionmanager</li>
<li><a href="https://demo.azurewebsites.com">https://demo.azurewebsites.com</a>
{% endhint %}</li>
</ul>
<table>
<thead>
<tr>
<th>Complete Address</th>
<th>DNS</th>
<th>Virtual Directory</th>
</tr>
</thead>
<tbody>
<tr>
<td>https://localhost/xmprosubscriptionmanager</td>
<td><p></p><p>localhost</p></td>
<td><p></p><p>xmprosubscriptionmanager </p></td>
</tr>
<tr>
<td>https://desktop-f64k32e/xmprosubscriptionmanager</td>
<td>desktop-f64k32e</td>
<td>xmprosubscriptionmanager</td>
</tr>
<tr>
<td><a href="https://demo.azurewebsites.com">https://demo.azurewebsites.com</a></td>
<td>demo.azurewebsites.com</td>
<td></td>
</tr>
</tbody>
</table>
<p><strong>Virtual Directory</strong></p>
<ol start="17">
<li>Select the parent site from the Web Site drop-down</li>
</ol>
<p>{% hint style=&quot;info&quot; %}
By default, the Virtual Directory name will be &quot;DataStreams&quot; which will be created within IIS for the Data Stream site. If you wish to change the name you can specify it in the &quot;Virtual Directory Name&quot; text box.
{% endhint %}</p>
<ol start="18">
<li>Verify the value in the content directory field. If incorrect, apply any changes needed</li>
</ol>
<p>{% hint style=&quot;info&quot; %}
By default, the option to create a sub-directory within the content directory is checked and you can specify a name in the “Sub-Directory” text box.
{% endhint %}</p>
<h4 id="application-pool-1">Application Pool</h4>
<ol start="19">
<li>If you wish to change the name or use an existing application pool, click the Change button</li>
</ol>
<p>{% hint style=&quot;info&quot; %}
By default, a new application pool will be created when installing the site. The new application pool will have the same name as the name specified in the “Application Pool Name” field.
{% endhint %}</p>
<ol start="20">
<li>Either select the “Create a new Application Pool” or “Use an existing Application Pool” option</li>
</ol>
<p>{% hint style=&quot;info&quot; %}
If you choose “Create a new Application Pool”, give it an appropriate name. If you choose “Use an existing Application Pool”, select an existing application pool from the drop-down.
{% endhint %}</p>
<p><img src="../../.gitbook/assets/image%20(506).png" alt=""></p>
<h4 id="security-account-1"><strong>Security Account</strong></h4>
<ol start="21">
<li>Select &quot;Local System&quot; as the security account.</li>
</ol>
<p>{% hint style=&quot;info&quot; %}
The two options available to choose from are using a built-in security account or specifying your own security account.
{% endhint %}</p>
<figure><img src="../../.gitbook/assets/DS_LocalSystem.png" alt=""><figcaption></figcaption></figure>
<p>{% hint style=&quot;danger&quot; %}
<strong>Warning</strong>: If you selected Windows authentication to connect to the database, you must choose “Specify your own Security Account” and provide the correct credentials. The service account must have batch logon rights enabled. More Information on how to set up a custom application pool in IIS as well as steps on how to enable batch logon rights can be found <a href="https://docs.xmpro.com/knowledge-base-2/setting-up-a-custom-application-pool-so-that-windows-authentication-can-be-used-when-installing-xmpro-enabling-batch-logon-rights-for-a-user/">i</a>n this <a href="https://docs.xmpro.com/knowledge-base-2/setting-up-a-custom-application-pool-so-that-windows-authentication-can-be-used-when-installing-xmpro-enabling-batch-logon-rights-for-a-user/"><strong>link</strong></a>.
{% endhint %}</p>
<h3 id="installation-profile">Installation Profile</h3>
<ol start="22">
<li>Click the Browse button to upload an installation profile for Subscription Manager</li>
<li>Select a file and click &quot;Next&quot;</li>
</ol>
<p>{% hint style=&quot;info&quot; %}
This file ensures the Data Stream Designer contains the correct details for the Subscription Manager instance you would like to use. The file can be obtained through the <a href="on-premise.html#obtaining-an-installation-profile">steps outlined previously in this tutorial</a>.
{% endhint %}</p>
<p><img src="../../.gitbook/assets/image%20(1723).png" alt=""></p>
<ol start="24">
<li>After you press &quot;Next&quot;, authenticate yourself using Subscription Manager credentials</li>
</ol>
<p><img src="../../.gitbook/assets/image%20(766).png" alt=""></p>
<p>{% hint style=&quot;danger&quot; %}
<strong>Warning:</strong> If you are unable to sign in at this step, please follow this <a href="https://docs.microsoft.com/en-us/troubleshoot/browsers/enhanced-security-configuration-faq#how-to-turn-off-internet-explorer-esc-on-windows-servers"><strong>link</strong></a> to disable Internet Explorer Enhanced Security Configuration.
{% endhint %}</p>
<h3 id="final-steps-1">Final Steps</h3>
<ol start="25">
<li>Continue through the wizard, confirm the installation and the components will be installed</li>
</ol>
<h2 id="app-designer">App Designer</h2>
<ol>
<li>Start the installation process by running the <em>App Designer.exe</em> file that you've received from your Global Administrator.</li>
</ol>
<p><img src="../../.gitbook/assets/image%20(1631).png" alt=""></p>
<ol start="2">
<li>Click the &quot;I Agree&quot; button and press &quot;Next&quot;</li>
</ol>
<p><img src="../../.gitbook/assets/image%20(189).png" alt=""></p>
<ol start="3">
<li>Follow the instructions and click &quot;Close&quot; when the installation is finished</li>
</ol>
<p><img src="../../.gitbook/assets/image%20(869).png" alt=""></p>
<p>{% hint style=&quot;info&quot; %}
This &quot;Setup&quot; will install the installer you will use to install the database and website
{% endhint %}</p>
<ol start="4">
<li>When this initial installation is complete, open the start menu</li>
<li>Search for &quot;App Designer&quot; and click on Run as Administrator</li>
</ol>
<p><img src="../../.gitbook/assets/image%20(222).png" alt=""></p>
<h3 id="component-choice-2"><strong>Component Choice</strong></h3>
<ol start="6">
<li>When the installer launches, choose “Install” and click &quot;Next&quot;</li>
</ol>
<p><img src="../../.gitbook/assets/image%20(1438).png" alt=""></p>
<ol start="7">
<li>Select the components that you would like to install and click &quot;Next&quot;</li>
</ol>
<p>{% hint style=&quot;info&quot; %}
If this is the first time you are installing Subscription Manager, it is highly recommended that you select both “Database” and “Web Application”.
{% endhint %}</p>
<p><img src="../../.gitbook/assets/image%20(323).png" alt=""></p>
<h3 id="database-3">Database</h3>
<h4 id="server-3"><strong>Server</strong></h4>
<ol start="8">
<li>Select the server instance you would like to connect to</li>
</ol>
<p>{% hint style=&quot;info&quot; %}
If you already know the server instance name, it can be entered manually.  Otherwise, use the refresh button on the right to load all available servers. Selecting the “Local Servers” check box will limit the search to the local network.
{% endhint %}</p>
<p><img src="../../.gitbook/assets/image%20(891).png" alt=""></p>
<h4 id="authentication-method-3"><strong>Authentication Method</strong></h4>
<ol start="9">
<li>Specify the authentication method that should be used: Windows or SQL</li>
</ol>
<p>9.1. Windows Authentication: you may leave the options as is</p>
<p>{% hint style=&quot;danger&quot; %}
<strong>Warning:</strong> Configure a service account that can be used for Windows authentication
{% endhint %}</p>
<p>9.2. SQL Authentication:</p>
<ul>
<li>Click the &quot;Change&quot; button</li>
<li>Select the “Use SQL Authentication” option</li>
<li>Enter the username and password of the SQL Server instance you’re connecting to</li>
</ul>
<p>{% hint style=&quot;danger&quot; %}
<strong>Warning:</strong> The SQL user must have permission to create databases on the server.
{% endhint %}</p>
<p><img src="../../.gitbook/assets/image%20(1307).png" alt=""></p>
<p><strong>Database</strong></p>
<p>{% hint style=&quot;info&quot; %}
The Database section allows you to configure if you would like to use an existing database or create a new one. Leaving the options as default will result in a new database being created.
{% endhint %}</p>
<p>To change the pre-populated name of the new database or to select to use an existing database:</p>
<ol start="10">
<li>Click the &quot;Change&quot; button and select the appropriate option</li>
<li>Specify the name of the new database or select an existing database from the drop-down</li>
</ol>
<p><img src="../../.gitbook/assets/image%20(131).png" alt=""></p>
<h3 id="encryption-upgrade-1">Encryption Upgrade</h3>
<p>If you are upgrading from 4.0 to 4.1 or greater, you will be shown the Encryption Upgrade Settings page. This will assist you in migrating existing Server Variables and Connector settings to the new method of encryption.</p>
<p>{% hint style=&quot;warning&quot; %}
To upgrade existing Server Variables, the details of the <strong>Subscription Manager</strong> database is required, <strong>not</strong> the <strong>Data Stream Designer</strong> database (provided on the previous page).
{% endhint %}</p>
<h4 id="app-designer-encryption-key">App Designer Encryption Key</h4>
<ol start="12">
<li>Enter the App Designer Encryption Key</li>
</ol>
<p>{% hint style=&quot;info&quot; %}
To find the App Designer Encryption Key, inspect the appsettings.json file in the web server files. It will be found under the JSON path &quot;xmpro.appDesigner.encryptionKey&quot;.</p>
<p>If that path does not exist, it is stored in a cloud-service key vault. Search for the &quot;xmpro.keyVault&quot; JSON object for the details required to find the encryption key.</p>
<p>Documentation for the <a href="on-premise.html#server">Azure</a> and <a href="https://docs.aws.amazon.com/kms/latest/developerguide/overview.html">Amazon</a> key vaults have been linked for convenience.
{% endhint %}</p>
<p><img src="../../.gitbook/assets/AD%20Encryption%20Upgrade%201.PNG" alt=""></p>
<h4 id="upgrade-server-variables-1">Upgrade Server Variables?</h4>
<ol start="13">
<li>Tick to automatically upgrade the Server Variables. It is recommended, but not required. <br>
None of the other settings on this page are required if you choose not to upgrade.</li>
</ol>
<h4 id="server-4">Server</h4>
<ol start="14">
<li>Select the server instance you want to connect to</li>
</ol>
<h4 id="authentication-method-4">Authentication Method</h4>
<ol start="15">
<li>Specify the authentication method that should be used: Windows or SQL</li>
</ol>
<h4 id="database-4">Database</h4>
<ol start="16">
<li>Select the <strong>Subscription Manager</strong> database and click Next</li>
</ol>
<h3 id="web-application-2">Web Application</h3>
<p><strong>DNS Name</strong></p>
<ol start="17">
<li>Verify if your DNS name is correct, if not, edit the value to contain the correct DNS name</li>
</ol>
<p>{% hint style=&quot;info&quot; %}
This is your fully qualified domain name (FQDN). Please find some examples below explaining the DNS name.</p>
<ul>
<li>https://localhost/xmprosubscriptionmanager</li>
<li>https://desktop-f64k32e/xmprosubscriptionmanager</li>
<li><a href="https://demo.azurewebsites.com">https://demo.azurewebsites.com</a>
{% endhint %}</li>
</ul>
<table>
<thead>
<tr>
<th>https://localhost/xmprosubscriptionmanager</th>
<th><p></p><p>localhost</p></th>
<th><p></p><p>xmprosubscriptionmanager </p></th>
</tr>
</thead>
<tbody>
<tr>
<td>https://desktop-f64k32e/xmprosubscriptionmanager</td>
<td>desktop-f64k32e</td>
<td>xmprosubscriptionmanager</td>
</tr>
<tr>
<td><a href="https://demo.azurewebsites.com">https://demo.azurewebsites.com</a></td>
<td>demo.azurewebsites.com</td>
<td></td>
</tr>
</tbody>
</table>
<p><strong>Virtual Directory</strong></p>
<ol start="18">
<li>Select the parent site from the Web Site drop-down</li>
</ol>
<p>{% hint style=&quot;info&quot; %}
By default, the Virtual Directory name will be &quot;AppDesigner&quot; which will be created within IIS for the Data Stream site. If you wish to change the name you can specify it in the &quot;Virtual Directory Name&quot; text box.
{% endhint %}</p>
<ol start="19">
<li>Verify if the value in the content directory field is correct. If not, apply any changes needed</li>
</ol>
<p>{% hint style=&quot;info&quot; %}
By default, the option to create a sub-directory within the content directory is checked and you can specify a name in the “Sub-Directory” text box.
{% endhint %}</p>
<h4 id="application-pool-2"><strong>Application Pool</strong></h4>
<ol start="20">
<li>If you wish to change this name or use an existing application pool, click the Change button</li>
</ol>
<p>{% hint style=&quot;info&quot; %}
By default, a new application pool will be created when installing the site. The new application pool will have the same name as the name specified in the “Application Pool Name” field.
{% endhint %}</p>
<ol start="21">
<li>Either select the “Create a new Application Pool” or “Use an existing Application Pool” option</li>
</ol>
<p>{% hint style=&quot;info&quot; %}
If you choose “Create a new Application Pool”, give it an appropriate name. If you choose “Use an existing Application Pool”, select an existing application pool from the drop-down.
{% endhint %}</p>
<p><img src="../../.gitbook/assets/image%20(830).png" alt=""></p>
<h4 id="security-account-2"><strong>Security Account</strong></h4>
<ol start="22">
<li>Select &quot;Local System&quot; as the security account</li>
</ol>
<p>{% hint style=&quot;info&quot; %}
You can either change it by selecting a different built-in security account from the drop-down or by specifying your own security account.
{% endhint %}</p>
<figure><img src="../../.gitbook/assets/AD_LocalSystem.png" alt=""><figcaption></figcaption></figure>
<p>{% hint style=&quot;danger&quot; %}
<strong>Warning</strong>: If you selected Windows authentication to connect to the database, you must choose “Specify your own Security Account” and provide the correct credentials. The service account must have batch logon rights enabled. More Information on how to set up a custom application pool in IIS as well as steps on how to enable batch logon rights can be found <a href="https://docs.xmpro.com/knowledge-base-2/setting-up-a-custom-application-pool-so-that-windows-authentication-can-be-used-when-installing-xmpro-enabling-batch-logon-rights-for-a-user/">i</a>n this <a href="https://docs.xmpro.com/knowledge-base-2/setting-up-a-custom-application-pool-so-that-windows-authentication-can-be-used-when-installing-xmpro-enabling-batch-logon-rights-for-a-user/"><strong>link</strong></a>.
{% endhint %}</p>
<h3 id="integration-details">Integration Details</h3>
<ol start="23">
<li>Type in the URL of Data Stream designer in the text box</li>
</ol>
<p><img src="../../.gitbook/assets/image%20(1042).png" alt=""></p>
<h3 id="smtp-1">SMTP</h3>
<ol start="24">
<li>Enter the SMTP settings referenced in the <a href="../install.html#smtp-account"><strong>1. Preparation</strong></a> guide. <br>
By default, the &quot;Enable Email Notification&quot; is checked.</li>
</ol>
<p>{% hint style=&quot;info&quot; %}
SMTP can be disabled by unchecking the &quot;Enable Email Notification&quot; checkbox if you don't want to receive email notifications. If at a later stage email notifications are needed, the installer can be run again to add SMTP functionality.
{% endhint %}</p>
<p><img src="../../.gitbook/assets/image%20(164).png" alt=""></p>
<p>{% hint style=&quot;danger&quot; %}
<strong>Warning:</strong> You are required to set up an SMTP account. Failing to do so will make registering new users very cumbersome.</p>
<p>It is highly recommended to check your connection to the email server using the &quot;Test SMTP settings&quot; button.
{% endhint %}</p>
<h3 id="twilio-optional">Twilio (Optional)</h3>
<ol start="25">
<li>Enter the Twilio details referenced in the <a href="../install.html#twilio-optional"><strong>1. Preparation</strong></a> guide. If you don't want SMS notifications you can select &quot;None&quot; from the &quot;Select Provider&quot; dropdown.</li>
</ol>
<p><img src="../../.gitbook/assets/image%20(51).png" alt=""></p>
<h3 id="installation-profile-1">Installation Profile</h3>
<ol start="26">
<li>Click the Browse button to upload an installation profile for Subscription Manager</li>
<li>Select a file and click &quot;Next&quot;</li>
</ol>
<p>{% hint style=&quot;info&quot; %}
This file ensures the App Designer contains the correct details for the Subscription Manager instance you would like to use. The file used can be obtained through the <a href="on-premise.html#obtaining-an-installation-profile">steps outlined previously in this tutorial</a>.</p>
<p>The Installation Profile generated for Data Stream Installer can be used in this step.
{% endhint %}</p>
<p><img src="../../.gitbook/assets/image%20(507).png" alt=""></p>
<ol start="28">
<li>After you press &quot;Next&quot;, authenticate yourself using Subscription Manager credentials</li>
</ol>
<p><img src="../../.gitbook/assets/image%20(412).png" alt=""></p>
<p>{% hint style=&quot;danger&quot; %}
<strong>Warning:</strong> If you are unable to sign in at this step, please follow this <a href="https://docs.microsoft.com/en-us/troubleshoot/browsers/enhanced-security-configuration-faq#how-to-turn-off-internet-explorer-esc-on-windows-servers"><strong>link</strong></a> to disable Internet Explorer Enhanced Security Configuration.
{% endhint %}</p>
<h3 id="final-steps-2">Final Steps</h3>
<ol start="29">
<li>Continue through the wizard, confirm the installation and the components will be installed</li>
</ol>
<h2 id="next-step-complete-installation">Next Step: Complete Installation</h2>
<p>The installation of the XMPro Platform is now complete, but there are some environment setup steps before you can use the platform. Please click the below link for further instructions:</p>
<p>{% content-ref url=&quot;../3.-complete-installation/&quot; %}
<a href="../3.-complete-installation/">3.-complete-installation</a>
{% endcontent-ref %}</p>
<h2 id="upgrade-xmpro">Upgrade XMPro</h2>
<p>It is necessary to first uninstall the installers on the host server before proceeding with the upgrade installers. Once you have removed the installers, the procedure for the upgrade is the same as the original install.</p>
<p>This section aims to provide step-by-step instructions on how to safely uninstall only the XMPro installers and not the on-premises deployed XMPro solution.</p>
<p>The process of uninstalling the XMPro installer must be repeated for each application individually. The steps are the same for each application installer and the sequence is not significant.</p>
<h3 id="uninstall-subscription-manager-installer">Uninstall Subscription Manager Installer</h3>
<ol>
<li>Log on to the instance where the XMPro installers are installed.</li>
<li>From the start menu select XMPro Subscription Manager and right-click it.</li>
<li>Click Uninstall.</li>
<li>Select XMPro Subscription Manager from the list of programs displayed.</li>
<li>Click Uninstall.</li>
<li>When prompted to confirm uninstall click Yes.</li>
<li>Click Next.</li>
</ol>
<figure><img src="../../.gitbook/assets/image (1196).png" alt="" width="540"><figcaption></figcaption></figure>
<ol start="8">
<li>When prompted to select the install to modify click Cancel. <br>
<strong>We do not want to remove the installed XMPro site, only the installer.</strong></li>
</ol>
<figure><img src="../../.gitbook/assets/image (1195).png" alt="" width="455"><figcaption></figcaption></figure>
<ol start="9">
<li>Click on Yes to cancel the setup.</li>
</ol>
<figure><img src="../../.gitbook/assets/image (1162).png" alt="" width="373"><figcaption></figcaption></figure>
<h3 id="uninstall-data-stream-designer-installer">Uninstall Data Stream Designer Installer</h3>
<ol>
<li>Log on to the instance where the XMPro installers are installed.</li>
<li>From the start menu select XMPro Data Stream Designer and right-click it.</li>
<li>Click Uninstall.</li>
<li>Select XMPro Data Stream Designer from the list of programs displayed.</li>
<li>Click Uninstall.</li>
<li>When prompted to confirm uninstall click Yes.</li>
<li>Click Next.</li>
</ol>
<figure><img src="../../.gitbook/assets/image (1276).png" alt="" width="563"><figcaption></figcaption></figure>
<ol start="8">
<li>When prompted to select the install to modify click Cancel. <br>
<strong>We do not want to remove the installed XMPro site, only the installer.</strong></li>
</ol>
<figure><img src="../../.gitbook/assets/image (1777).png" alt="" width="501"><figcaption></figcaption></figure>
<ol start="9">
<li>Click on Yes to cancel the setup.</li>
</ol>
<figure><img src="../../.gitbook/assets/image (1576).png" alt="" width="375"><figcaption></figcaption></figure>
<h3 id="uninstall-application-designer-installer">Uninstall Application Designer Installer</h3>
<ol>
<li>Log on to the instance where the XMPro installers are installed.</li>
<li>From the start menu select XMPro Application Designer and right-click it.</li>
<li>Click Uninstall.</li>
<li>Select XMPro Application Designer from the list of programs displayed.</li>
<li>Click Uninstall.</li>
<li>When prompted to confirm uninstall click Yes.</li>
<li>Click Next.</li>
</ol>
<figure><img src="../../.gitbook/assets/image (1165).png" alt="" width="563"><figcaption></figcaption></figure>
<ol start="8">
<li>When prompted to select the install to modify click Cancel. <br>
<strong>We do not want to remove the installed XMPro site, only the installer.</strong></li>
</ol>
<figure><img src="../../.gitbook/assets/image (1170).png" alt="" width="555"><figcaption></figcaption></figure>
<ol start="9">
<li>Click on Yes to cancel the setup.</li>
</ol>
<figure><img src="../../.gitbook/assets/image (1202).png" alt="" width="375"><figcaption></figcaption></figure>
<p>You have now successfully uninstalled the XMPro installers. You can proceed to the instructions at the top of this page to perform an upgrade with the new installers: <a href="on-premise.html#install">Install On-Premise</a>.</p>

</article>


        <div class="next-article d-print-none border-top" id="nextArticle"></div>

      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          Copyright © 2025 XMPro. All rights reserved.
        </div>
      </div>
    </footer>
  </body>
</html>
